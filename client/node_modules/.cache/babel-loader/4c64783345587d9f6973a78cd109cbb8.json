{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar UIfx = function UIfx(file, config) {\n  _classCallCheck(this, UIfx);\n\n  _initialiseProps.call(this);\n\n  var namespace = \"uifx\";\n\n  var throttle = function throttle(fn, delay) {\n    var lastCall = 0;\n    return function () {\n      var now = new Date().getTime();\n\n      if (now - lastCall < delay) {\n        return;\n      }\n\n      lastCall = now;\n      return fn.apply(undefined, arguments);\n    };\n  };\n\n  var validateURI = function validateURI(file) {\n    if (!file) {\n      throw Error('Requires valid URI path for \"file\"');\n    } else return file;\n  };\n\n  var validateVolume = function validateVolume(volume) {\n    var message = '\"Volume\" must be an number between 0.0 and 1.0';\n    if (volume && typeof volume !== \"number\") throw Error(message);\n    if (volume < 0 || volume > 1) throw Error(message);\n    return volume ? volume : 1.0;\n  };\n\n  var validateThrottleMs = function validateThrottleMs(throttleMs) {\n    var message = '\"throttleMs\" must be a number greater than zero';\n    if (throttleMs && typeof throttleMs !== \"number\") throw Error(message);\n    if (throttleMs < 0) throw Error(message);\n    return throttleMs ? throttleMs : 0;\n  };\n\n  var volume = validateVolume(config && config.volume);\n  var throttleMs = validateThrottleMs(config && config.throttleMs);\n\n  var appendAudioElement = function appendAudioElement(file) {\n    // hack to force browser\n    // to preload audio file\n    // hash function: https://stackoverflow.com/a/8831937/11330825\n    var hash = function hash(str) {\n      var hash = 0;\n\n      if (str.length === 0) {\n        return hash;\n      }\n\n      for (var i = 0; i < str.length; i++) {\n        var char = str.charCodeAt(i);\n        hash = (hash << 5) - hash + char;\n        hash = hash & hash; // Convert to 32bit integer\n      }\n\n      return Math.abs(hash);\n    };\n\n    var id = namespace + '-' + hash(file);\n    var audioElement = document.createElement(\"audio\");\n    audioElement.id = id;\n    audioElement.src = file;\n    audioElement.preload = \"auto\";\n    document.body.appendChild(audioElement);\n    return file;\n  };\n\n  this.file = appendAudioElement(validateURI(file));\n  this.volume = volume;\n  this.throttleMs = throttleMs;\n  this.play = throttleMs > 0 ? throttle(this.play, throttleMs) : this.play;\n  this.setVolume = this.setVolume;\n  this.validateVolume = validateVolume;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  this.play = function (volume) {\n    _this.validateVolume(volume);\n\n    var audioElement = new Audio(_this.file);\n    audioElement.load();\n    audioElement.addEventListener(\"loadeddata\", function () {\n      audioElement.volume = volume >= 0 && volume <= 1 ? volume : _this.volume;\n      var audioElementPromised = audioElement.play();\n      audioElementPromised.then(function () {// autoplay started, everyting is ok\n      }).catch(function (error) {\n        console.log('UIfx says: \"had a problem playing file: ' + _this.file + '\"');\n      });\n    });\n    return _this;\n  };\n\n  this.setVolume = function (volume) {\n    _this.validateVolume(volume);\n\n    _this.volume = volume;\n    return _this;\n  };\n};\n\nexports.default = UIfx;","map":{"version":3,"sources":["C:/Users/Aishwarya/Downloads/deep-blue/client/node_modules/uifx/build/index.js"],"names":["Object","defineProperty","exports","value","_classCallCheck","instance","Constructor","TypeError","UIfx","file","config","_initialiseProps","call","namespace","throttle","fn","delay","lastCall","now","Date","getTime","apply","undefined","arguments","validateURI","Error","validateVolume","volume","message","validateThrottleMs","throttleMs","appendAudioElement","hash","str","length","i","char","charCodeAt","Math","abs","id","audioElement","document","createElement","src","preload","body","appendChild","play","setVolume","_this","Audio","load","addEventListener","audioElementPromised","then","catch","error","console","log","default"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar UIfx = function UIfx(file, config) {\n  _classCallCheck(this, UIfx);\n\n  _initialiseProps.call(this);\n\n  var namespace = \"uifx\";\n  var throttle = function throttle(fn, delay) {\n    var lastCall = 0;\n    return function () {\n      var now = new Date().getTime();\n      if (now - lastCall < delay) {\n        return;\n      }\n      lastCall = now;\n      return fn.apply(undefined, arguments);\n    };\n  };\n  var validateURI = function validateURI(file) {\n    if (!file) {\n      throw Error('Requires valid URI path for \"file\"');\n    } else return file;\n  };\n  var validateVolume = function validateVolume(volume) {\n    var message = '\"Volume\" must be an number between 0.0 and 1.0';\n\n    if (volume && typeof volume !== \"number\") throw Error(message);\n    if (volume < 0 || volume > 1) throw Error(message);\n\n    return volume ? volume : 1.0;\n  };\n  var validateThrottleMs = function validateThrottleMs(throttleMs) {\n    var message = '\"throttleMs\" must be a number greater than zero';\n\n    if (throttleMs && typeof throttleMs !== \"number\") throw Error(message);\n    if (throttleMs < 0) throw Error(message);\n\n    return throttleMs ? throttleMs : 0;\n  };\n  var volume = validateVolume(config && config.volume);\n  var throttleMs = validateThrottleMs(config && config.throttleMs);\n  var appendAudioElement = function appendAudioElement(file) {\n    // hack to force browser\n    // to preload audio file\n\n    // hash function: https://stackoverflow.com/a/8831937/11330825\n    var hash = function hash(str) {\n      var hash = 0;\n      if (str.length === 0) {\n        return hash;\n      }\n      for (var i = 0; i < str.length; i++) {\n        var char = str.charCodeAt(i);\n        hash = (hash << 5) - hash + char;\n        hash = hash & hash; // Convert to 32bit integer\n      }\n      return Math.abs(hash);\n    };\n    var id = namespace + '-' + hash(file);\n    var audioElement = document.createElement(\"audio\");\n\n    audioElement.id = id;\n    audioElement.src = file;\n    audioElement.preload = \"auto\";\n\n    document.body.appendChild(audioElement);\n    return file;\n  };\n\n  this.file = appendAudioElement(validateURI(file));\n  this.volume = volume;\n  this.throttleMs = throttleMs;\n  this.play = throttleMs > 0 ? throttle(this.play, throttleMs) : this.play;\n  this.setVolume = this.setVolume;\n  this.validateVolume = validateVolume;\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  this.play = function (volume) {\n\n    _this.validateVolume(volume);\n\n    var audioElement = new Audio(_this.file);\n    audioElement.load();\n    audioElement.addEventListener(\"loadeddata\", function () {\n\n      audioElement.volume = volume >= 0 && volume <= 1 ? volume : _this.volume;\n\n      var audioElementPromised = audioElement.play();\n\n      audioElementPromised.then(function () {\n        // autoplay started, everyting is ok\n      }).catch(function (error) {\n        console.log('UIfx says: \"had a problem playing file: ' + _this.file + '\"');\n      });\n    });\n\n    return _this;\n  };\n\n  this.setVolume = function (volume) {\n    _this.validateVolume(volume);\n\n    _this.volume = volume;\n\n    return _this;\n  };\n};\n\nexports.default = UIfx;"]},"metadata":{},"sourceType":"script"}