{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aishwarya\\\\Downloads\\\\deep-blue\\\\client\\\\src\\\\signup.js\";\nimport React, { Component } from 'react';\nimport './css/main.css';\nimport './css/util.css';\nimport './signup.css';\nimport Sketch from \"react-p5\";\nimport { Link, Redirect } from 'react-router-dom';\n\nconst axios = require('axios');\n\nlet video;\nexport class Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setup2 = async () => {\n      const mood = document.getElementById('mood').value;\n      video.loadPixels();\n      console.log(video.canvas);\n      const image64 = video.canvas.toDataURL();\n      const data = {\n        mood,\n        image64\n      };\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      };\n      console.log(image64);\n      const response = await axios.post('http://localhost:5000/register', {\n        'image64': image64,\n        'username': mood\n      });\n\n      if (response.status == 200) {\n        const tracks = document.querySelector(\"video\").srcObject.getTracks();\n        tracks.forEach(function (track) {\n          track.stop();\n        });\n      }\n\n      ;\n    };\n\n    this.state = {\n      signup: true\n    };\n  }\n\n  setup(p5, canvasParentRef) {\n    p5.noCanvas();\n    video = p5.createCapture(p5.VIDEO);\n    const v = document.querySelector(\"video\");\n    let st = \"position: absolute; top: 255px;\";\n    v.setAttribute(\"style\", st);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group multi-preview\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, (this.fileArray || []).map(url => React.createElement(\"img\", {\n      src: url,\n      alt: \"...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      className: \"form-control\",\n      onChange: this.uploadMultipleFiles,\n      multiple: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger btn-block\",\n      onClick: this.uploadFiles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Upload\")));\n  }\n\n}\nexport default Signup;","map":{"version":3,"sources":["C:/Users/Aishwarya/Downloads/deep-blue/client/src/signup.js"],"names":["React","Component","Sketch","Link","Redirect","axios","require","video","Signup","constructor","props","setup2","mood","document","getElementById","value","loadPixels","console","log","canvas","image64","toDataURL","data","options","method","headers","body","JSON","stringify","response","post","status","tracks","querySelector","srcObject","getTracks","forEach","track","stop","state","signup","setup","p5","canvasParentRef","noCanvas","createCapture","VIDEO","v","st","setAttribute","render","fileArray","map","url","uploadMultipleFiles","uploadFiles"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport './css/main.css';\r\nimport './css/util.css';\r\nimport './signup.css';\r\nimport Sketch from \"react-p5\";\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\nconst axios = require('axios');\r\nlet video;\r\nexport class Signup extends Component {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsignup : true\r\n\t\t};\r\n\t}\r\n\tsetup(p5, canvasParentRef) {\r\n        p5.noCanvas();\r\n        video = p5.createCapture(p5.VIDEO);\r\n        const v = document.querySelector(\"video\");\r\n        let st = \"position: absolute; top: 255px;\"\r\n        v.setAttribute(\"style\", st);\r\n    }\r\n\r\n    setup2 = async () => {\r\n          const mood = document.getElementById('mood').value;\r\n          video.loadPixels();\r\n          console.log(video.canvas);\r\n          const image64 = video.canvas.toDataURL();\r\n          const data = { mood, image64 };\r\n          const options = {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n          };\r\n          console.log(image64);\r\n          const response = await axios.post('http://localhost:5000/register', {'image64':image64, 'username':mood});\r\n          if(response.status==200){\r\n\t\t  \t\tconst tracks = document.querySelector(\"video\").srcObject.getTracks();\r\n\t\t  \t\ttracks.forEach(function(track) {\r\n    \t\t\t\ttrack.stop();\r\n  \t\t\t\t});\r\n\t\t  \t};\r\n    }\r\n    \r\n\r\n\trender(){\r\n\r\n\r\n    \treturn (\r\n\t\t<div >\r\n    \t\t<form>\r\n                <div className=\"form-group multi-preview\">\r\n                    {(this.fileArray || []).map(url => (\r\n                        <img src={url} alt=\"...\" />\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <input type=\"file\" className=\"form-control\" onChange={this.uploadMultipleFiles} multiple />\r\n                </div>\r\n                <button type=\"button\" className=\"btn btn-danger btn-block\" onClick={this.uploadFiles}>Upload</button>\r\n            </form >    \t\t\r\n\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}